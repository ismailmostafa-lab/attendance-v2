<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Enterprise Large and Mega Projects — Attendance Log</title>
<link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700&display=swap" rel="stylesheet">
<style>
:root{
  /* تحسين نفس الألوان – بدون تغيير الهوية */
  --we-purple:#8237a8;      /* نفس اللون لكن أكثر حياة بنسبة 12% */
  --muted:#8a8a8a;          /* درجة أوضح */
  --bg:#f6f3ff;             /* نفس الدرجة لكن مشرقة قليلاً */
  --card:#ffffff;           /* بدون تغيير لكن ناعم */
  --accent:#00b7ff;         /* نفس الأزرق لكن أنضف */
  
  /* الأزرار بتدرج ناعم من نفس اللون */
  --in-color: linear-gradient(135deg,#b26cc0,#9a55ae);
  --out-color: linear-gradient(135deg,#6a4bb8,#563d9a);
}

*{box-sizing:border-box}
html,body{
  height:100%;margin:0;
  background:var(--bg);
  font-family:'Cairo',sans-serif;
  color:#111;
  -webkit-font-smoothing:antialiased;
}

.header{
  padding:20px 16px 12px 16px;
}

.title-main{
  font-size:20px;
  font-weight:700;
  color:var(--we-purple);
  line-height:1;
}

.title-sub{
  font-size:14px;
  color:var(--muted);
  margin-top:6px;
}

.wrap{
  display:flex;
  align-items:center;
  justify-content:center;
  padding:18px;
}

.card{
  width:100%;
  max-width:420px;
  background:var(--card);
  border-radius:16px; /* ناعمة أكثر */
  padding:22px;

  /* ظل أنعم */
  box-shadow:0 8px 30px rgba(0,0,0,0.06);
}

.input{
  width:100%;
  padding:12px 14px;
  border-radius:12px;
  border:1px solid #dedde5;

  /* تحسين شكله */
  background:#fcfbff;
  transition:0.2s;
}

.input:focus{
  border-color:#c7b3ff;
  box-shadow:0 0 0 3px rgba(170,140,230,0.25);
  outline:none;
}

.label{
  font-size:13px;
  color:var(--muted);
  margin-top:12px;
}

.btn{
  width:100%;
  padding:13px;
  border-radius:12px;
  border:0;
  font-size:16px;
  color:#fff;
  margin-top:18px;
  cursor:pointer;

  /* الزر بتدرج بسيط – نفس اللون القديم بالضبط */
  background:var(--in-color);

  transition:0.2s;
}

.btn:hover{
  filter:brightness(1.08);
}

.msg{
  height:22px;
  margin-top:10px;
  text-align:center;
  font-weight:600;
}

.small-muted{
  font-size:12px;
  color:var(--muted);
  margin-top:8px;
  text-align:center;
}

.footer-note{
  font-size:11px;
  color:#9a9a9a;
  margin-top:10px;
  text-align:center;
}
</style>
</head>

<body>
  <header class="header">
    <div class="title-main"><b>Enterprise Large and Mega Projects</b></div>
    <div class="title-sub">Attendance Log</div>
  </header>

  <main class="wrap">
    <section class="card">
      <label class="label" for="userid">ID</label>
      <input id="userid" class="input" type="text" autocomplete="username" inputmode="numeric" />
      
      <label class="label" for="password">Password</label>
      <input id="password" class="input" type="password" autocomplete="current-password" />

      <button id="btnLogin" class="btn" onclick="login()">Login</button>

      <div id="msg" class="msg"></div>
      <div class="footer-note small-muted">
        Enterprise Project Management | Large & Mega Projects Unit
      </div>
    </section>
  </main>

<script>
const API = "https://script.google.com/macros/s/AKfycbyIsl9kZcPMP90yomhpV2RxmpATp4_QEYUMxzclmo-GwB9xCMeFmjRxGCV11lwQAdsz/exec";
if(localStorage.getItem('ID')) location.href = 'attendance.html';

async function login(){
  const id = document.getElementById('userid').value.trim();
  const pass = document.getElementById('password').value.trim();
  const msg = document.getElementById('msg');
  if(!id || !pass){ msg.style.color='red'; msg.textContent='Please fill all fields'; return; }
  msg.style.color='#666'; msg.textContent='Checking...';
  const payload = { action:'login', ID:id, password:pass };

  try{
    const r = await fetch(API, { method:'POST', body: JSON.stringify(payload) });
    const j = await r.json();

    if(j.status === 'success'){
      localStorage.setItem('ID', j.ID);
      localStorage.setItem('name', j.name);
      msg.style.color='green'; msg.textContent='OK';
      setTimeout(()=> location.href='attendance.html', 250);
    }
    else{
      msg.style.color='red';
      msg.textContent='Invalid ID or Password';
    }
  }
  catch(err){
    msg.style.color='red'; msg.textContent='Connection Error';
  }
}
</script>

</body>
</html>
